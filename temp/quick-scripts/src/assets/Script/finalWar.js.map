{"version":3,"sources":["assets/Script/finalWar.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\n\nconst { ccclass, property } = cc._decorator;\nimport waterDrop from './waterDrop';\nimport joyStick from './joyStick';\n\n@ccclass\nexport default class finalWar extends cc.Component {\n    @property(cc.Node)\n    waterDrop: cc.Node = null;\n    @property(cc.Node)\n    joyStick: cc.Node = null;\n    @property(cc.Prefab)\n    craft: cc.Prefab = null;\n\n    private waterDropComp: waterDrop = null;\n    private joyStickComp: joyStick = null;\n    wdAngle: number;\n\n    carftPostionsX(): Array<number> {\n        const arrayX: Array<number> = [];\n        const unitX = (this.node.width - 100) / 10;\n        for (let i = 0; i < 10; i++) {\n            arrayX.push(unitX * i - 400);\n        }\n        return arrayX;\n    }\n\n    carftPostionsY(): Array<number> {\n        const arrayY: Array<number> = [];\n        const unitY = this.node.height / 8;\n        for (let i = 0; i < 4; i++) {\n            arrayY.push(unitY * i);\n        }\n        return arrayY;\n    }\n\n    protected onLoad(): void {\n        this.waterDropComp = this.waterDrop.getComponent('waterDrop') as waterDrop;\n        this.joyStickComp = this.joyStick.getComponent('joyStick') as joyStick;\n\n        this.carftPostionsX();\n\n        for (const px of this.carftPostionsX()) {\n            for (const py of this.carftPostionsY()) {\n                const theCraft = cc.instantiate(this.craft);\n                this.node.addChild(theCraft);\n                theCraft.setPosition(new cc.Vec2(px, py));\n            }\n        }\n    }\n\n    protected update(dt: number): void {\n        // this.waterDropComp.move(this.joyStickComp.direction.x, this.joyStickComp.direction.y);\n        // console.log(Math.atan2(this.joyStickComp.direction.y, this.joyStickComp.direction.x));\n        this.waterDropComp.node.x += this.joyStickComp.direction.x;\n        this.waterDropComp.node.y += this.joyStickComp.direction.y;\n        this.wdAngle = (Math.atan2(this.joyStickComp.direction.y, this.joyStickComp.direction.x) * 180) / Math.PI + 90;\n        this.waterDropComp.node.angle = this.wdAngle;\n    }\n}\n"]}